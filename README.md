# Welcome to the Machine Learning part of PondPedia!

PondPedia is a mobile-based guide and decision support system application designed to help freshwater aquaculturists in Indonesia improve their farming practices. Implement technology to provide real-time estimation for when fish will be ready for harvest, feeding schedules, and recommendations for the amount and type of fish and feed based on water and fish type.

## Dataset
[Dataset](https://www.kaggle.com/datasets/ogbuokiriblessing/sensor-based-aquaponics-fish-pond-datasets) that are being used were generated from freshwater aquaponics of the African catfish (Clariasgariepinus) conducted by HiPIC Research Group, Department of Computer Science, University of Nigeria Nsukka. Read more about the dataset and how it was generated by visiting their [website](https://aquaponics.hipiclab.org/the-project/).

### EDA Dataset
We have performed exploratory data analysis on the dataset to gain insights and understand the underlying patterns. You can find the details of our EDA in the [data preprocesing](https://github.com/PondPedia/machine-learning/tree/main/dataset/data_preprocessing) folder.

### Cleaned Dataset
We have cleaned and preprocessed the dataset to ensure its quality and suitability for training machine learning models. You can access the cleaned dataset in the [dataset](https://github.com/PondPedia/machine-learning/tree/main/notebook/dataset) folder.

## Models
We have employed advanced machine learning models to tackle different aspects of the aquaculture process. Here are the models we have developed:

**LSTM Model:** We utilize the LSTM model to predict water quality accurately. You can explore the implementation details in the LSTM folder.
- [LSTM Folder](https://github.com/PondPedia/machine-learning/tree/main/online_prediction/assets)

![astrid](https://github.com/PondPedia/machine-learning/assets/114053967/5dd4d4d7-d433-4167-85e6-bb7a36943f86)


**Regression Model:** To predict the optimal fish harvest time, we have built a regression model that takes various factors into account.
- [Regression Folder](https://github.com/PondPedia/machine-learning/tree/main/online_prediction/assets)

![irvandy](https://github.com/PondPedia/machine-learning/assets/114053967/8d1a572b-b698-46fb-b053-db758797f554)


### Deployed Model
You can access the deployment-ready models and the required supporting files in the [model to deploy](https://github.com/PondPedia/machine-learning/tree/main/online_prediction/assets) folder. We have also included additional files necessary for smooth deployment in the [support files for deploy](https://github.com/PondPedia/machine-learning/tree/main/online_prediction) folder.

## Installation
To run this project, you will need Python 3.7 or higher and the following libraries:

- joblib
- pandas
- numpy
- tensorflow
- Flask
- gunicorn
- scikit-learn
- matplotlib

To install these libraries, run the following command:

```pip install --requirement requirements.txt```

## Usage
Since the program to create the model itself was written in the OOP style, to train the model we suggest you to create instances of LSTMModel and Hyperparameters class, details on how to do that is pretty straighforward, you just simply copy one of our notebook file and that's it! Now you can tune the parameters and see if you can beat our best model! We recommend you to try this in Visual Studio Code editor with Jupyter Notebook extension already installed.

## Model Usage API
### Base URL
https://pondpediaprediction-ismbpqewoa-as.a.run.app

**Endpoints**
`GET /`
- Returns a welcome message for the PondPediaPrediction API.

**Request**
- Method: GET

**Response**
- Status code: 200
- Headers:
- Content-Type: text/plain
- Body:
```
{
    "status": "Success!",
    "message": "Welcome to PondPediaPrediction!"
}
```

`POST /water`
- Predicts the water quality for the next 6 hours using the provided JSON data in the request body.

**Request**
- Method: POST
- Headers:
- Content-Type: application/json
- Body:
```
[
    {
      "temp": 24.23414855,
      "turbidity": 80.24561404,
      "oxygen": 3.976651515,
      "ph": 7.275005628,
      "ammonia": 0.140939666,
      "nitrat": 1.123123
    }
]
```

**Response**
- Status code: 200
- Headers:
- Content-Type: text/plain
- Body:
```
{
  message: {
    message: 'Water Quality Prediction for the next 6 hours',
    predictions: '[\n' +
      '    [\n' +
      '        24.225269317626953,\n' +
      '        80.11214447021484,\n' +
      '        3.992586135864258,\n' +
      '        7.262341499328613,\n' +
      '        0.16394536197185516,\n' +
      '        1.1969711780548096\n' +
      '    ]\n' +
      ']',
    status: 'Success!'
  },
  success: true
}
```


`POST /fishgrowth`
- Predicts the fish growth rate using the provided JSON data in the request body.

**Request**
- Method: POST
- Headers:
- Content-Type: application/json
- Body:
```
[
    {
      "temp": 24.23414855,
      "turbidity": 80.24561404,
      "oxygen": 3.976651515,
      "ph": 7.275005628,
      "ammonia": 0.140939666,
      "nitrat": 1.116871508,
      "weight": 6.74
    }
]
```

**Response**
- Status code: 200
- Headers:
- Content-Type: text/plain
- Body:
```
{
  message: {
    message: 'Fish Growth Rate Prediction',
    predictions: '[\n' +
      '    [\n' +
      '        25.595497131347656,\n' +
      '        10.92888069152832,\n' +
      '        95.13993072509766\n' +
      '    ],\n' +
      ']',
    status: 'Success!'
  },
  success: true
}
```


## Contributing
Contributions to this project are welcome. To contribute, fork the repository and create a pull request with your changes. All pull requests will be reviewed and merged by the project maintainers.


## Additional Note
We hope that our machine learning solutions will enhance your freshwater aquaculture practices and contribute to the success of your ventures. Happy farming!
